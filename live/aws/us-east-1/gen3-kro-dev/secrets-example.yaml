csoc:
  alias: "gen3-csoc-dev"
  cluster_name: "gen3-csoc-dev"
  provider:
    name: "aws"
    profile: "boadeyem_tf"
    region: "us-east-1"
    terraform_state_bucket: ""
    terraform_locks_table: ""

    # Azure
    # subscription_id: "your-subscription-id-here"
    # tenant_id: "your-tenant-id-here"
    # location: "eastus"
    # terraform_state_storage_account: "gen3kroterraformstate"
    # terraform_state_container: "tfstate"

    # GCP
    # project_id: "your-project-id-here"
    # region: "us-central1"
    # credentials_file: "/credentials/csoc.json"
    # terraform_state_bucket: "gen3-kro-terraform-state"

  vpc:
    enable_vpc: true
    vpc_name: "gen3-kro-vpc"
    vpc_cidr: "10.0.0.0/16"
    enable_nat_gateway: true
    single_nat_gateway: true
    # Explicit subnet configuration (5 AZs in us-east-1)
    availability_zones:
      - "us-east-1a"
      - "us-east-1b"
      # - "us-east-1c"
      # - "us-east-1d"
      # - "us-east-1f"
    # Private subnets: /20 blocks (4096 IPs each) for EKS nodes
    private_subnet_cidrs:
      - "10.0.0.0/20" # us-east-1a: 10.0.0.0 - 10.0.15.255
      - "10.0.16.0/20" # us-east-1b: 10.0.16.0 - 10.0.31.255
      # - "10.0.32.0/20" # us-east-1c: 10.0.32.0 - 10.0.47.255
      # - "10.0.48.0/20" # us-east-1d: 10.0.48.0 - 10.0.63.255
      # - "10.0.64.0/20" # us-east-1f: 10.0.64.0 - 10.0.79.255
    # Public subnets: /24 blocks (256 IPs each) for load balancers
    public_subnet_cidrs:
      - "10.0.240.0/24" # us-east-1a: 10.0.240.0 - 10.0.240.255

  k8s_cluster:
    enable_eks_cluster: true
    # Existing VPC configuration (set enable_vpc to attach to existing VPC)
    existing_vpc_id: ""
    existing_subnet_ids: []
    kubernetes_version: "1.33"
    cluster_endpoint_public_access: true
    enable_cluster_creator_admin_permissions: true
    cluster_compute_config:
      enabled: true
      node_pools: ["general-purpose"]

  gitops:
    org_name: "indiana-university"
    repo_name: "gen3-kro"
    github_url: "github.com"
    branch: "main"
    bootstrap_path: "argocd/bootstrap"

  addon_configs:
    # GitOps & Application Management
    argocd:
      enable_identity: true
      enable_argocd: true
      namespace: "argocd"
      service_account: "argocd-server-sa"
      argocd_chart_version: "8.6.0"
    # Secrets Management
    external_secrets:
      enable_identity: true
      kms_key_arns: ["arn:aws:kms:*:*:key/*"]
      secrets_manager_arns: ["arn:aws:secretsmanager:*:*:secret:*"]
      ssm_parameter_arns: ["arn:aws:ssm:*:*:parameter/*"]
      create_permission: true
      attach_custom_policy: false
      namespace: "external-secrets"
      service_account: "external-secrets"
    # ACK Controllers
    ack-cloudtrail:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-cloudtrail-sa"
    ack-cloudwatchlogs:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-cloudwatchlogs-sa"
    ack-ec2:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-ec2-sa"
    ack-efs:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-efs-sa"
    ack-eks:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-eks-sa"
    ack-iam:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-iam-sa"
    ack-kms:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-kms-sa"
    ack-opensearchservice:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-opensearchservice-sa"
    ack-rds:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-rds-sa"
    ack-route53:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-route53-sa"
    ack-s3:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-s3-sa"
    ack-secretsmanager:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-secretsmanager-sa"
    ack-sns:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-sns-sa"
    ack-sqs:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-sqs-sa"
    ack-wafv2:
      enable_identity: true
      namespace: "ack-system"
      service_account: "ack-wafv2-sa"

    # ASO Controllers
    aso-monitor:
      enable_identity: true
      namespace: "aso-system"
      service_account: "aso-monitor-sa"
    aso-compute:
      enable_identity: true
      namespace: "aso-system"
      service_account: "aso-compute-sa"
    aso-storage:
      enable_identity: true
      namespace: "aso-system"
      service_account: "aso-storage-sa"
    aso-aks:
      enable_identity: true
      namespace: "aso-system"
      service_account: "aso-aks-sa"
    aso-sql:
      enable_identity: true
      namespace: "aso-system"
      service_account: "aso-sql-sa"
    aso-dns:
      enable_identity: true
      namespace: "aso-system"
      service_account: "aso-dns-sa"
    aso-keyvault:
      enable_identity: true
      namespace: "aso-system"
      service_account: "aso-keyvault-sa"
    aso-servicebus:
      enable_identity: true
      namespace: "aso-system"
      service_account: "aso-servicebus-sa"

    # GCC Controllers
    gcc-logging:
      enable_identity: true
      namespace: "cnrm-system"
      service_account: "cnrm-logging-sa"
    gcc-monitoring:
      enable_identity: true
      namespace: "cnrm-system"
      service_account: "cnrm-monitoring-sa"
    gcc-compute:
      enable_identity: true
      namespace: "cnrm-system"
      service_account: "cnrm-compute-sa"
    gcc-storage:
      enable_identity: true
      namespace: "cnrm-system"
      service_account: "cnrm-storage-sa"
    gcc-gke:
      enable_identity: true
      namespace: "cnrm-system"
      service_account: "cnrm-gke-sa"
    gcc-sql:
      enable_identity: true
      namespace: "cnrm-system"
      service_account: "cnrm-sql-sa"
    gcc-dns:
      enable_identity: true
      namespace: "cnrm-system"
      service_account: "cnrm-dns-sa"
    gcc-kms:
      enable_identity: true
      namespace: "cnrm-system"
      service_account: "cnrm-kms-sa"
    gcc-pubsub:
      enable_identity: true
      namespace: "cnrm-system"
      service_account: "cnrm-pubsub-sa"
    gcc-iam:
      enable_identity: true
      namespace: "cnrm-system"
      service_account: "cnrm-iam-sa"
    gcc-filestore:
      enable_identity: true
      namespace: "cnrm-system"
      service_account: "cnrm-filestore-sa"

iam_gitops:
  org_name: "indiana-university"
  repo_name: "gen3-kro"
  github_url: "github.com"
  branch: "main"
  policy_base_path: "iam"

# GitOps configuration for rgds to be passed to argocd for deployment
rgds:
  gitops:
    org_name: "indiana-university"
    repo_name: "gen3-kro"
    github_url: "github.com"
    branch: "main"
    argocd_path: "argocd/graphs"

# Base tags applied to all resources
tags:
  Environment: "csoc"
  ManagedBy: "terragrunt"
  Owner: "RDS Team"

paths:
  outputs_dir: "outputs/terraform"

spokes:
  - alias: "spoke1"
    enabled: true
    provider:
      name: "aws"  # Cloud provider for this spoke
      aws_region: "us-east-1"
      aws_profile: "boadeyem_tf"
      # gcp_project_id: "your-project-id-here"
      # gcp_region: "us-central1"
      # azure_subscription_id: "your-subscription-id-here"
      # azure_location: "eastus"

    addon_configs:
      # GitOps & Application Management
      argocd:
        enable_identity: true  # enable ArgoCD pod identity
      # Secrets Management
      external_secrets:
        enable_identity: true  # enable External Secrets pod identity
      # ACK Controllers
      ack-cloudtrail:
        enable_identity: true  # enable CloudTrail controller pod identity
      ack-cloudwatchlogs:
        enable_identity: true  # enable CloudWatch Logs controller pod identity
      ack-ec2:
        enable_identity: true  # enable EC2 controller pod identity
      ack-efs:
        enable_identity: true  # enable EFS controller pod identity
      ack-eks:
        enable_identity: true  # enable EKS controller pod identity
      ack-iam:
        enable_identity: true  # enable IAM controller pod identity
      ack-kms:
        enable_identity: true  # enable KMS controller pod identity
      ack-opensearchservice:
        enable_identity: true  # enable OpenSearch controller pod identity
      ack-rds:
        enable_identity: true  # enable RDS controller pod identity
      ack-route53:
        enable_identity: true  # enable Route53 controller pod identity
      ack-s3:
        enable_identity: true  # enable S3 controller pod identity
      ack-secretsmanager:
        enable_identity: true  # enable Secrets Manager controller pod identity
      ack-sns:
        enable_identity: true  # enable SNS controller pod identity
      ack-sqs:
        enable_identity: true  # enable SQS controller pod identity
      ack-wafv2:
        enable_identity: true  # enable WAFv2 controller pod identity

      # # ASO Controllers
      # aso-monitor:
      #   enable_identity: true  # enable Azure Monitor controller workload identity
      # aso-compute:
      #   enable_identity: true  # enable Azure Compute controller workload identity
      # aso-storage:
      #   enable_identity: true  # enable Azure Storage controller workload identity
      # aso-aks:
      #   enable_identity: true  # enable Azure AKS controller workload identity
      # aso-sql:
      #   enable_identity: true  # enable Azure SQL controller workload identity
      # aso-dns:
      #   enable_identity: true  # enable Azure DNS controller workload identity
      # aso-keyvault:
      #   enable_identity: true  # enable Azure KeyVault controller workload identity
      # aso-servicebus:
      #   enable_identity: true  # enable Azure Service Bus controller workload identity

      # # GCC Controllers
      # gcc-logging:
      #   enable_identity: true  # enable GCP Logging controller workload identity
      # gcc-monitoring:
      #   enable_identity: true  # enable GCP Monitoring controller workload identity
      # gcc-compute:
      #   enable_identity: true  # enable GCP Compute controller workload identity
      # gcc-storage:
      #   enable_identity: true  # enable GCP Storage controller workload identity
      # gcc-gke:
      #   enable_identity: true  # enable GCP GKE controller workload identity
      # gcc-sql:
      #   enable_identity: true  # enable GCP SQL controller workload identity
      # gcc-dns:
      #   enable_identity: true  # enable GCP DNS controller workload identity
      # gcc-kms:
      #   enable_identity: true  # enable GCP KMS controller workload identity
      # gcc-pubsub:
      #   enable_identity: true  # enable GCP Pub/Sub controller workload identity
      # gcc-iam:
      #   enable_identity: true  # enable GCP IAM controller workload identity
      # gcc-filestore:
      #   enable_identity: true  # enable GCP Filestore controller workload identity

    gitops:
      org_name: "indiana-university"
      repo_name: "gen3-kro"
      github_url: "github.com"
      branch: "main"
      repo_url: "https://github.com/indiana-university/gen3-kro.git"
      argo_path: "argocd/spokes"

    tags:
      Team: "TestingSpoke"
      Purpose: "same-account-demo"

  - alias: "spoke2"
    enabled: true
    provider:
      name: "aws"
      aws_profile: "jayadeyemi"
      aws_region: "us-east-1"
      # gcp_project_id: "your-project-id-here"
      # gcp_region: "us-central1"
      # azure_subscription_id: "your-subscription-id-here"
      # azure_location: "eastus"

    addon_configs:
      # GitOps & Application Management
      argocd:
        enable_identity: true  # enable ArgoCD pod identity
      # Secrets Management
      external_secrets:
        enable_identity: true  # enable External Secrets pod identity
      # ACK Controllers
      ack-cloudtrail:
        enable_identity: true  # enable CloudTrail controller pod identity
      ack-cloudwatchlogs:
        enable_identity: true  # enable CloudWatch Logs controller pod identity
      ack-ec2:
        enable_identity: true  # enable EC2 controller pod identity
      ack-efs:
        enable_identity: true  # enable EFS controller pod identity
      ack-eks:
        enable_identity: true  # enable EKS controller pod identity
      ack-iam:
        enable_identity: true  # enable IAM controller pod identity
      ack-kms:
        enable_identity: true  # enable KMS controller pod identity
      ack-opensearchservice:
        enable_identity: true  # enable OpenSearch controller pod identity
      ack-rds:
        enable_identity: true  # enable RDS controller pod identity
      ack-route53:
        enable_identity: true  # enable Route53 controller pod identity
      ack-s3:
        enable_identity: true  # enable S3 controller pod identity
      ack-secretsmanager:
        enable_identity: true  # enable Secrets Manager controller pod identity
      ack-sns:
        enable_identity: true  # enable SNS controller pod identity
      ack-sqs:
        enable_identity: true  # enable SQS controller pod identity
      ack-wafv2:
        enable_identity: true  # enable WAFv2 controller pod identity

      # # ASO Controllers
      # aso-monitor:
      #   enable_identity: true  # enable Azure Monitor controller workload identity
      # aso-compute:
      #   enable_identity: true  # enable Azure Compute controller workload identity
      # aso-storage:
      #   enable_identity: true  # enable Azure Storage controller workload identity
      # aso-aks:
      #   enable_identity: true  # enable Azure AKS controller workload identity
      # aso-sql:
      #   enable_identity: true  # enable Azure SQL controller workload identity
      # aso-dns:
      #   enable_identity: true  # enable Azure DNS controller workload identity
      # aso-keyvault:
      #   enable_identity: true  # enable Azure KeyVault controller workload identity
      # aso-servicebus:
      #   enable_identity: true  # enable Azure Service Bus controller workload identity

      # # GCC Controllers
      # gcc-logging:
      #   enable_identity: true  # enable GCP Logging controller workload identity
      # gcc-monitoring:
      #   enable_identity: true  # enable GCP Monitoring controller workload identity
      # gcc-compute:
      #   enable_identity: true  # enable GCP Compute controller workload identity
      # gcc-storage:
      #   enable_identity: true  # enable GCP Storage controller workload identity
      # gcc-gke:
      #   enable_identity: true  # enable GCP GKE controller workload identity
      # gcc-sql:
      #   enable_identity: true  # enable GCP SQL controller workload identity
      # gcc-dns:
      #   enable_identity: true  # enable GCP DNS controller workload identity
      # gcc-kms:
      #   enable_identity: true  # enable GCP KMS controller workload identity
      # gcc-pubsub:
      #   enable_identity: true  # enable GCP Pub/Sub controller workload identity
      # gcc-iam:
      #   enable_identity: true  # enable GCP IAM controller workload identity
      # gcc-filestore:
      #   enable_identity: true  # enable GCP Filestore controller workload identity

    gitops:
      org_name: "indiana-university"
      repo_name: "gen3-kro"
      github_url: "github.com"
      branch: "main"
      repo_url: "https://github.com/indiana-university/gen3-kro.git"
      argo_path: "argocd/spokes"

    tags:
      Team: "TestingSpoke2"
      Purpose: "duplicate-spoke-test"
