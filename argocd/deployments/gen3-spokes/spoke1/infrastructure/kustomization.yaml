apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Override namespace for all resources
namespace: spoke1-infrastructure

resources:
  # Namespace is created by Terraform with proper annotations
  - github.com/indiana-university/gen3-kro//argocd/.gen3-spoke-templates/aws-vpc?ref=test-kro-graphs

labels:
  - pairs: {spoke: spoke1, deployed-by: kustomize}
    includeSelectors: false

patches:
  - patch: |-
      - op: replace
        path: /spec/namespace
        value: spoke1-infrastructure
    target:
      kind: AwsVpc
